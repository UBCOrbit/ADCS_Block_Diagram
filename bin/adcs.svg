<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="660pt" height="412pt"
 viewBox="0.00 0.00 659.50 412.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 408)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-408 655.5,-408 655.5,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_0</title>
<polygon fill="none" stroke="#000000" points="14.5,-156.5 14.5,-396 174.5,-396 174.5,-156.5 14.5,-156.5"/>
<text text-anchor="middle" x="94.5" y="-380.8" font-family="Verdana bold" font-size="14.00" fill="#000000">Thread 0:</text>
<text text-anchor="middle" x="94.5" y="-365.8" font-family="Verdana bold" font-size="14.00" fill="#000000">Localization</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_1</title>
<polygon fill="none" stroke="#000000" points="248.5,-156.5 248.5,-396 458.5,-396 458.5,-156.5 248.5,-156.5"/>
<text text-anchor="middle" x="353.5" y="-380.8" font-family="Verdana bold" font-size="14.00" fill="#000000">Thread 1:</text>
<text text-anchor="middle" x="353.5" y="-365.8" font-family="Verdana bold" font-size="14.00" fill="#000000">Detumbling/positioning</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_2</title>
<polygon fill="none" stroke="#000000" points="477.5,-8 477.5,-396 643.5,-396 643.5,-8 477.5,-8"/>
<text text-anchor="middle" x="560.5" y="-380.8" font-family="Verdana bold" font-size="14.00" fill="#000000">Thread 2:</text>
<text text-anchor="middle" x="560.5" y="-365.8" font-family="Verdana bold" font-size="14.00" fill="#000000">Communications</text>
</g>
<!-- l_read -->
<g id="node1" class="node">
<title>l_read</title>
<polygon fill="none" stroke="#000000" points="45,-313.5 45,-349.5 152,-349.5 152,-313.5 45,-313.5"/>
<text text-anchor="middle" x="98.5" y="-329" font-family="Verdana" font-size="10.00" fill="#000000">Read from sensors</text>
</g>
<!-- l_update -->
<g id="node2" class="node">
<title>l_update</title>
<polygon fill="none" stroke="#000000" points="22.5,-240.5 22.5,-276.5 146.5,-276.5 146.5,-240.5 22.5,-240.5"/>
<text text-anchor="middle" x="84.5" y="-261.5" font-family="Verdana" font-size="10.00" fill="#000000">Update state (Kalman</text>
<text text-anchor="middle" x="84.5" y="-250.5" font-family="Verdana" font-size="10.00" fill="#000000">Filter)</text>
</g>
<!-- l_read&#45;&gt;l_update -->
<g id="edge1" class="edge">
<title>l_read&#45;&gt;l_update</title>
<path fill="none" stroke="#000000" d="M95.0393,-313.4551C93.4912,-305.3828 91.6297,-295.6764 89.9047,-286.6817"/>
<polygon fill="#000000" stroke="#000000" points="93.2903,-285.7521 87.9694,-276.5904 86.4156,-287.0706 93.2903,-285.7521"/>
</g>
<!-- l_fulfill -->
<g id="node3" class="node">
<title>l_fulfill</title>
<polygon fill="none" stroke="#000000" points="72.5,-165 72.5,-201 142.5,-201 142.5,-165 72.5,-165"/>
<text text-anchor="middle" x="107.5" y="-186" font-family="Verdana" font-size="10.00" fill="#000000">Fulfill state</text>
<text text-anchor="middle" x="107.5" y="-175" font-family="Verdana" font-size="10.00" fill="#000000">requests</text>
</g>
<!-- l_update&#45;&gt;l_fulfill -->
<g id="edge2" class="edge">
<title>l_update&#45;&gt;l_fulfill</title>
<path fill="none" stroke="#000000" d="M90.0677,-240.2236C92.7515,-231.4134 96.0291,-220.6546 99.0148,-210.8535"/>
<polygon fill="#000000" stroke="#000000" points="102.4175,-211.6941 101.9836,-201.1081 95.7213,-209.6541 102.4175,-211.6941"/>
</g>
<!-- l_fulfill&#45;&gt;l_read -->
<g id="edge3" class="edge">
<title>l_fulfill&#45;&gt;l_read</title>
<path fill="none" stroke="#000000" d="M128.4879,-201.0648C138.7504,-211.3093 150.0443,-225.0517 155.5,-240 161.1379,-255.4478 161.9629,-261.8788 155.5,-277 150.6656,-288.311 142.2039,-298.3954 133.2564,-306.721"/>
<polygon fill="#000000" stroke="#000000" points="130.9494,-304.0889 125.6953,-313.2891 135.54,-309.3735 130.9494,-304.0889"/>
</g>
<!-- promise&lt;position_state&gt; requestState() -->
<g id="node4" class="node">
<title>promise&lt;position_state&gt; requestState()</title>
<polygon fill="none" stroke="#000000" points="0,-89.5 0,-125.5 215,-125.5 215,-89.5 0,-89.5"/>
<text text-anchor="middle" x="107.5" y="-105" font-family="Verdana" font-size="10.00" fill="#000000">promise&lt;position_state&gt; requestState()</text>
</g>
<!-- l_fulfill&#45;&gt;promise&lt;position_state&gt; requestState() -->
<g id="edge4" class="edge">
<title>l_fulfill&#45;&gt;promise&lt;position_state&gt; requestState()</title>
<path fill="none" stroke="#000000" d="M107.5,-154.6487C107.5,-144.9195 107.5,-134.3008 107.5,-125.6081"/>
<polygon fill="#000000" stroke="#000000" points="104.0005,-146.4998 107.5,-156.5 111.0005,-146.5002 104.0005,-146.4998"/>
</g>
<!-- p_request -->
<g id="node5" class="node">
<title>p_request</title>
<polygon fill="none" stroke="#000000" points="317.5,-313.5 317.5,-349.5 409.5,-349.5 409.5,-313.5 317.5,-313.5"/>
<text text-anchor="middle" x="363.5" y="-334.5" font-family="Verdana" font-size="10.00" fill="#000000">Request/update</text>
<text text-anchor="middle" x="363.5" y="-323.5" font-family="Verdana" font-size="10.00" fill="#000000">position state</text>
</g>
<!-- p_update -->
<g id="node6" class="node">
<title>p_update</title>
<polygon fill="none" stroke="#000000" points="283.5,-240.5 283.5,-276.5 377.5,-276.5 377.5,-240.5 283.5,-240.5"/>
<text text-anchor="middle" x="330.5" y="-261.5" font-family="Verdana" font-size="10.00" fill="#000000">Update position</text>
<text text-anchor="middle" x="330.5" y="-250.5" font-family="Verdana" font-size="10.00" fill="#000000">target</text>
</g>
<!-- p_request&#45;&gt;p_update -->
<g id="edge5" class="edge">
<title>p_request&#45;&gt;p_update</title>
<path fill="none" stroke="#000000" d="M355.3427,-313.4551C351.5746,-305.1196 347.0188,-295.0416 342.843,-285.8042"/>
<polygon fill="#000000" stroke="#000000" points="345.9864,-284.2608 338.6778,-276.5904 339.6078,-287.1443 345.9864,-284.2608"/>
</g>
<!-- p_set -->
<g id="node7" class="node">
<title>p_set</title>
<polygon fill="none" stroke="#000000" points="286,-165 286,-201 403,-201 403,-165 286,-165"/>
<text text-anchor="middle" x="344.5" y="-186" font-family="Verdana" font-size="10.00" fill="#000000">Calculate/set</text>
<text text-anchor="middle" x="344.5" y="-175" font-family="Verdana" font-size="10.00" fill="#000000">actuator states (PID)</text>
</g>
<!-- p_update&#45;&gt;p_set -->
<g id="edge6" class="edge">
<title>p_update&#45;&gt;p_set</title>
<path fill="none" stroke="#000000" d="M333.889,-240.2236C335.5055,-231.5062 337.4757,-220.8809 339.2777,-211.1633"/>
<polygon fill="#000000" stroke="#000000" points="342.7602,-211.5787 341.1422,-201.1081 335.8776,-210.3024 342.7602,-211.5787"/>
</g>
<!-- p_set&#45;&gt;p_request -->
<g id="edge7" class="edge">
<title>p_set&#45;&gt;p_request</title>
<path fill="none" stroke="#000000" d="M362.4697,-201.0347C371.5769,-211.4709 381.7029,-225.4029 386.5,-240 393.4789,-261.2363 386.4806,-285.8342 378.424,-304.1743"/>
<polygon fill="#000000" stroke="#000000" points="375.1715,-302.865 374.0527,-313.4006 381.4974,-305.8622 375.1715,-302.865"/>
</g>
<!-- promise&lt;bool&gt; setTarget(position_target) -->
<g id="node8" class="node">
<title>promise&lt;bool&gt; setTarget(position_target)</title>
<polygon fill="none" stroke="#000000" points="233,-89.5 233,-125.5 456,-125.5 456,-89.5 233,-89.5"/>
<text text-anchor="middle" x="344.5" y="-105" font-family="Verdana" font-size="10.00" fill="#000000">promise&lt;bool&gt; setTarget(position_target)</text>
</g>
<!-- p_set&#45;&gt;promise&lt;bool&gt; setTarget(position_target) -->
<g id="edge8" class="edge">
<title>p_set&#45;&gt;promise&lt;bool&gt; setTarget(position_target)</title>
<path fill="none" stroke="#000000" d="M344.5,-154.6487C344.5,-144.9195 344.5,-134.3008 344.5,-125.6081"/>
<polygon fill="#000000" stroke="#000000" points="341.0005,-146.4998 344.5,-156.5 348.0005,-146.5002 341.0005,-146.4998"/>
</g>
<!-- c_alert -->
<g id="node9" class="node">
<title>c_alert</title>
<polygon fill="none" stroke="#000000" points="523.5,-313.5 523.5,-349.5 603.5,-349.5 603.5,-313.5 523.5,-313.5"/>
<text text-anchor="middle" x="563.5" y="-334.5" font-family="Verdana" font-size="10.00" fill="#000000">Alert CDH on</text>
<text text-anchor="middle" x="563.5" y="-323.5" font-family="Verdana" font-size="10.00" fill="#000000">boot/reset</text>
</g>
<!-- c_wait -->
<g id="node10" class="node">
<title>c_wait</title>
<polygon fill="none" stroke="#000000" points="505,-240.5 505,-276.5 622,-276.5 622,-240.5 505,-240.5"/>
<text text-anchor="middle" x="563.5" y="-261.5" font-family="Verdana" font-size="10.00" fill="#000000">Wait for message on</text>
<text text-anchor="middle" x="563.5" y="-250.5" font-family="Verdana" font-size="10.00" fill="#000000">CAN bus</text>
</g>
<!-- c_alert&#45;&gt;c_wait -->
<g id="edge9" class="edge">
<title>c_alert&#45;&gt;c_wait</title>
<path fill="none" stroke="#000000" d="M563.5,-313.4551C563.5,-305.3828 563.5,-295.6764 563.5,-286.6817"/>
<polygon fill="#000000" stroke="#000000" points="567.0001,-286.5903 563.5,-276.5904 560.0001,-286.5904 567.0001,-286.5903"/>
</g>
<!-- c_ack -->
<g id="node11" class="node">
<title>c_ack</title>
<polygon fill="none" stroke="#000000" points="485.5,-162.5 485.5,-203.5 615.5,-203.5 615.5,-162.5 485.5,-162.5"/>
<text text-anchor="middle" x="550.5" y="-191.5" font-family="Verdana" font-size="10.00" fill="#000000">Send ACK/NACK (check</text>
<text text-anchor="middle" x="550.5" y="-180.5" font-family="Verdana" font-size="10.00" fill="#000000">if request is</text>
<text text-anchor="middle" x="550.5" y="-169.5" font-family="Verdana" font-size="10.00" fill="#000000">allowed)</text>
</g>
<!-- c_wait&#45;&gt;c_ack -->
<g id="edge10" class="edge">
<title>c_wait&#45;&gt;c_ack</title>
<path fill="none" stroke="#000000" d="M560.3531,-240.2236C558.9663,-232.1697 557.2991,-222.4873 555.7339,-213.3967"/>
<polygon fill="#000000" stroke="#000000" points="559.1765,-212.764 554.0303,-203.503 552.278,-213.9519 559.1765,-212.764"/>
</g>
<!-- c_carry -->
<g id="node12" class="node">
<title>c_carry</title>
<polygon fill="none" stroke="#000000" points="498,-89.5 498,-125.5 611,-125.5 611,-89.5 498,-89.5"/>
<text text-anchor="middle" x="554.5" y="-105" font-family="Verdana" font-size="10.00" fill="#000000">Carry out command</text>
</g>
<!-- c_ack&#45;&gt;c_carry -->
<g id="edge11" class="edge">
<title>c_ack&#45;&gt;c_carry</title>
<path fill="none" stroke="#000000" d="M551.593,-162.3693C552.0272,-154.1748 552.5337,-144.6148 553.0011,-135.7917"/>
<polygon fill="#000000" stroke="#000000" points="556.5104,-135.7073 553.5444,-125.5362 549.5202,-135.3369 556.5104,-135.7073"/>
</g>
<!-- c_response -->
<g id="node13" class="node">
<title>c_response</title>
<polygon fill="none" stroke="#000000" points="530.5,-16.5 530.5,-52.5 618.5,-52.5 618.5,-16.5 530.5,-16.5"/>
<text text-anchor="middle" x="574.5" y="-32" font-family="Verdana" font-size="10.00" fill="#000000">Send response</text>
</g>
<!-- c_carry&#45;&gt;c_response -->
<g id="edge12" class="edge">
<title>c_carry&#45;&gt;c_response</title>
<path fill="none" stroke="#000000" d="M559.4438,-89.4551C561.6794,-81.2951 564.3726,-71.4652 566.8593,-62.3887"/>
<polygon fill="#000000" stroke="#000000" points="570.2769,-63.1598 569.5437,-52.5904 563.5257,-61.3101 570.2769,-63.1598"/>
</g>
<!-- c_response&#45;&gt;c_wait -->
<g id="edge13" class="edge">
<title>c_response&#45;&gt;c_wait</title>
<path fill="none" stroke="#000000" d="M594.9861,-52.6194C604.5355,-62.3651 614.9874,-75.2026 620.5,-89 622.0109,-92.7816 630.1852,-191.2969 624.5,-204 619.3333,-215.5447 610.3784,-225.653 600.8966,-233.927"/>
<polygon fill="#000000" stroke="#000000" points="598.4362,-231.4162 592.8795,-240.437 602.8488,-236.8503 598.4362,-231.4162"/>
</g>
</g>
</svg>
